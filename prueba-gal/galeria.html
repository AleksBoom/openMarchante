<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Galeria</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div id="galeria">
        <div id="galeria_imagen">
            <img id="imgGaleria" src="img/1.jpg" />
        </div>
        <section id="miniaturas"><!-- esta capa contiene a todos los elementos de las miniaturas  -->
            <aside id="lboton" onclick="mueveder(7)">&lt;</aside><!-- esto muestra el botón izquierdo -->
            <section id="slider">
                <div id="galeria_miniaturas">
                    <img class="miniatura" onclick="cambia(this.src);" src="img/2.jpg" />
                    <img class="miniatura" onclick="cambia(this.src);" src="img/3.jpg" />
                    <img class="miniatura" onclick="cambia(this.src);" src="img/4.jpg" />
                    <img class="miniatura" onclick="cambia(this.src);" src="img/5.jpg" />
                    <img class="miniatura" onclick="cambia(this.src);" src="img/6.jpg" />
                    <img class="miniatura" onclick="cambia(this.src);" src="img/7.jpg" />
                    <img class="miniatura" onclick="cambia(this.src);" src="img/8.jpg" />
                    <div class="reset"></div>
                </div>
            </section>
            <aside id="rboton" onclick="mueveizq(7)">&gt;</aside> <!-- muestra el botón derecho -->
            <div class="reset"></div><!-- para eliminar la flotación -->
        </section><!-- termina id="miniaturas" -->
    </div><!-- termina id="galeria" -->

    <!-- Acordarse de colocar cuando se pueda el código de javascript al final -->
    <script>
        function cambia(imagen_src) {
            /* Cambiar el área de la imagen a la imagen actual al dar click en alguna
               de las miniaturas */
            var tagimg = document.getElementById('imgGaleria');
            
            tagimg.src = imagen_src;
        }
        
        function mueveder(n) {
            /*
                Desplaza las miniaturas una posición a la derecha si todavía existen
                imágenes a la izquierda que mostrar.
            */

            /* Se busca la capa que tiene todas las miniaturas */
            var mini = document.getElementById("galeria_miniaturas");
            
            /* Se obtiene el valor de la propiedad left, pero en su correspondiente
               valor en entero */
            if(mini.style.left == "") {
                left = 0;
            } else {
                left = parseInt(mini.style.left); /* esto convierte texto a entero */
            }
            
            /* Se verifica si hay imágenes a la izquierda consultando el valor de left */
            if(left < 0) {
                /* Si el valor de left es menor a 0, significa que hay almenos una miniatura
                   a la izquierda, así que continuamos, de lo contrario no hacemos nada */
                
                /* Se calcula el ancho de la miniatura y que será usado para desplazar
                   a la derecha */
                var ancho = mini.offsetWidth / n;
                
                /* Se calcula el nuevo valor de left */
                mini.style.left = (left + ancho) + "px";
            }            
        }
        
        function mueveizq(n) {
            /*
                Desplaza las miniaturas una posición a la izquierda si todavía existen
                imágenes a la derecha que mostrar.
            */
            /* Se busca la capa que tiene todas las miniaturas */
            var mini = document.getElementById("galeria_miniaturas");
            var nv = 5; /* número de miniaturas a ver */

            /* Se calcula el ancho de la miniatura y que será usado para desplazar
               a la derecha */
            var ancho = mini.offsetWidth / n;
            
            /* Se obtiene el valor de la propiedad left, pero en su correspondiente
               valor en entero */
            if(mini.style.left == "") {
                left = 0;
            } else {
                left = parseInt(mini.style.left); /* esto convierte texto a entero */
            }
            

            /* Se calcula el límite derecho ocupado por las miniaturas */
            var limder = mini.offsetWidth + left;

            /* Se verifica si hay imágenes a la derecha verificando si el valor de limder
               es mayor al espacio de visualización */
            if( limder > ancho * nv) {
                /* Si el valor de limder es mayor, significa que hay almenos una miniatura
                   a la derecha, así que continuamos, de lo contrario no hacemos nada */
                
                /* Se calcula el nuevo valor de la propiedad left */
                mini.style.left = (left - ancho) + "px";
            }
        }
    </script>
</body>
</html>
